@model UniformAndEquipmentManagementSystem.Models.Item

@{
    ViewData["Title"] = "New Item";
}

<div class="page-container">
    <div class="page-header">
        <h1 class="page-title">New Item</h1>
    </div>
    <div class="form-container">
        <form asp-action="Create" method="post" enctype="multipart/form-data" class="item-form">
            <div class="form-grid">
                <div class="form-section">
                    <div class="form-group">
                        <label asp-for="ItemType"></label>
                        <select asp-for="ItemType" class="form-control" id="itemTypeSelect">
                            <option value="Uniform">Uniform</option>
                            <option value="Equipment">Equipment</option>
                        </select>
                        <span asp-validation-for="ItemType" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="ItemId"></label>
                        <input asp-for="ItemId" class="form-control" />
                        <span asp-validation-for="ItemId" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="ItemName"></label>
                        <input asp-for="ItemName" class="form-control" />
                        <span asp-validation-for="ItemName" class="text-danger"></span>
                    </div>
                    <div class="form-group uniform-only">
                        <label asp-for="Department"></label>
                        <input asp-for="Department" class="form-control" />
                        <span asp-validation-for="Department" class="text-danger"></span>
                    </div>
                    <div class="form-group uniform-only">
                        <label asp-for="JobRole"></label>
                        <input asp-for="JobRole" class="form-control" />
                        <span asp-validation-for="JobRole" class="text-danger"></span>
                    </div>
                    <div class="form-group uniform-only">
                        <label asp-for="Material"></label>
                        <input asp-for="Material" class="form-control" />
                        <span asp-validation-for="Material" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Supplier"></label>
                        <input asp-for="Supplier" class="form-control" />
                        <span asp-validation-for="Supplier" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Price"></label>
                        <input asp-for="Price" class="form-control" />
                        <span asp-validation-for="Price" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-section image-section">
                    <label>Uniform Image</label>
                    <div class="image-upload-container">
                        <input type="file" name="ImageFile" class="form-control" accept="image/*" id="imageInput" />
                        <div class="image-preview" id="imagePreview">
                            <i class="fas fa-user"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn-primary">Add Item</button>
            </div>
            <div class="form-note">Item will be added to the inventory</div>
        </form>
    </div>
</div>

<style>
.page-container {
    padding: 20px;
}
.page-header {
    margin-bottom: 20px;
}
.page-title {
    font-size: 24px;
    font-weight: 500;
    color: #333;
    margin: 0;
}
.form-container {
    background-color: #7a2323;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin: 20px 0;
    padding: 30px 20px;
}
.form-header {
    padding: 20px;
    border-bottom: 1px solid #eee;
    background-color: #f8f9fa;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
}
.form-title {
    font-size: 20px;
    font-weight: 500;
    color: #333;
    margin: 0;
}
.item-form {
    padding: 0;
    background-color: transparent;
}
.form-grid {
    display: flex;
    gap: 40px;
    align-items: flex-start;
}
.form-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.image-section {
    max-width: 250px;
    align-items: center;
}
.form-group {
    margin-bottom: 5px;
}
.form-group label {
    display: block;
    margin-bottom: 5px;
    color: #fff;
    font-size: 14px;
    font-weight: 500;
}
.form-control {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
    transition: border-color 0.2s;
}
.form-control:focus {
    border-color: #9497A8;
    outline: none;
}
.image-upload-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
}
.image-preview {
    width: 180px;
    height: 180px;
    border-radius: 8px;
    background-color: #f8f9fa;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: #9497A8;
    border: 2px dashed #ddd;
    margin-top: 10px;
}
.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #eee;
}
.btn-primary {
    background-color: #9497A8;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.2s;
}
.btn-primary:hover {
    background-color: #7a7c8c;
}
.text-danger {
    color: #dc3545;
    font-size: 12px;
    margin-top: 4px;
    display: block;
}
.form-note {
    color: #fff;
    margin-top: 10px;
    font-size: 13px;
}
.uniform-only { display: block; }
.equipment-only { display: none; }
</style>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        // Image preview functionality
        document.getElementById('imageInput').onchange = function(e) {
            const preview = document.getElementById('imagePreview');
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">`;
                }
                reader.readAsDataURL(file);
            } else {
                preview.innerHTML = '<i class="fas fa-user"></i>';
            }
        };
        // Show/hide fields based on item type
        function toggleFields() {
            var type = document.getElementById('itemTypeSelect').value;
            var uniformFields = document.querySelectorAll('.uniform-only');
            if (type === 'Uniform') {
                uniformFields.forEach(f => f.style.display = 'block');
            } else {
                uniformFields.forEach(f => f.style.display = 'none');
            }
        }
        document.getElementById('itemTypeSelect').addEventListener('change', toggleFields);
        window.onload = toggleFields;
    </script>
} 